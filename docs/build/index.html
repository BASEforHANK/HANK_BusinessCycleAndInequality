<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Documentation for HANKEstim module</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Documentation for HANKEstim module</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Home</a><ul class="internal"><li><a class="tocitem" href="#Introduction-1"><span>Introduction</span></a></li><li><a class="tocitem" href="#First-steps-1"><span>First steps</span></a></li></ul></li><li><a class="tocitem" href="steadystate.html">Steady state</a></li><li><a class="tocitem" href="linearization.html">Linearization</a></li><li><a class="tocitem" href="estimation.html">Estimation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/BenjaminBorn/HANK_BusinessCycleAndInequality/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="HANKEstim.jl-Documentation-1"><a class="docs-heading-anchor" href="#HANKEstim.jl-Documentation-1">HANKEstim.jl Documentation</a><a class="docs-heading-anchor-permalink" href="#HANKEstim.jl-Documentation-1" title="Permalink"></a></h1><h2 id="Introduction-1"><a class="docs-heading-anchor" href="#Introduction-1">Introduction</a><a class="docs-heading-anchor-permalink" href="#Introduction-1" title="Permalink"></a></h2><p>This manual documents the Julia module <strong>HANKEstim</strong>, that implements a Bayesian likelihood estimation of a heterogeneous-agent New-Keynesian (HANK) model. It accompanies the paper <a href="https://www.benjaminborn.de/publication/bbl_inequality_2020/">Shocks, Frictions, and Inequality in US Business Cycles</a>.</p><h2 id="First-steps-1"><a class="docs-heading-anchor" href="#First-steps-1">First steps</a><a class="docs-heading-anchor-permalink" href="#First-steps-1" title="Permalink"></a></h2><p>The module runs with Julia 1.4. We recommend to use the <a href="https://junolab.org">Juno IDE</a> as a front-end to Julia. Please first install all packages listed at the top of <code>HANKEstim.jl</code>. To get started with the toolbox, it is easiest to use the <code>script.jl</code> Julia script in the <code>src</code> folder. Make sure that the folder is the present working directory and write</p><pre><code class="language-none">push!(LOAD_PATH, pwd())
using HANKEstim</code></pre><p>This loads the HANKEstim module that is defined in <code>HANKEstim.jl</code>. <code>HANKEstim.jl</code> is the key module file as it loads in the code base, sets up structures, and exports a number of functions and macros.</p><p>The provided <code>script.jl</code> then shows how a typical estimation proceeds in three main steps. First, we solve the steady state of the model, and reduce the dimensionality of the state space <sup class="footnote-reference"><a id="citeref-BL" href="#footnote-BL">[BL]</a></sup>. Secondly, we compute the linearized dynamics of the model around the steady state. Thirdly, we construct the likelihood of the model parameters given data, and use Bayesian methods to estimate them. More details on the three steps are provided in the menu on the left. The end of <code>script.jl</code> provides an example on how to plot some impulse response functions from the model.</p><h3 id="Setting-up-your-model-1"><a class="docs-heading-anchor" href="#Setting-up-your-model-1">Setting up your model</a><a class="docs-heading-anchor-permalink" href="#Setting-up-your-model-1" title="Permalink"></a></h3><p>To define the aggregate part of the model, include the aggregate model block in <code>input_aggregate_model.jl</code>. States and controls have to be listed in <code>include_aggregate_names</code> and their steady states in <code>input_aggregate_steady_state</code>. Include model parameters in <code>struct ModelParameters</code> in <code>Structs.jl</code>.</p><p>The file <code>Structs.jl</code> contains three structures to provide model parameters, numerical parameters, and estimation settings. In additon, it contains two macros that automatically create structures that contain the model variables.</p><p>In the first structure, each model parameter has a line of code. It starts with the parameter name as it is used in the code and a default value. The next two entries are its ascii name and its name for LaTeX output. The fourth entry is the prior if the parameter is to be estimated. Please see the <a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a>-package for available options. The fifth entry is a Boolean whether the parameter should be estimated (<code>true</code>) or not (<code>false</code>)</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>For replication purposes, currently the estimated parameters in <code>Struct.jl</code> are overwritten in <code>find_SS()</code> by the estimated values from the paper.</p></div></div><h3 id="Steady-state-and-dimensionality-reduction-1"><a class="docs-heading-anchor" href="#Steady-state-and-dimensionality-reduction-1">Steady state and dimensionality reduction</a><a class="docs-heading-anchor-permalink" href="#Steady-state-and-dimensionality-reduction-1" title="Permalink"></a></h3><p>The command</p><pre><code class="language-none">sr = compute_steadystate()</code></pre><p>calls the function <a href="steadystate.html#HANKEstim.find_SS"><code>find_SS()</code></a> and saves its returns in an instance <code>sr</code> of the <code>struct</code> <code>SteadyResults</code>. <code>sr</code> contains vectors of the steady state variables (together with index-vectors to reference them by name), the steady-state distribution of income and assets, and devices to retrieve the full states from the compressed state vectors.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p><code>sr</code> may be saved to the local file system by calling</p><pre><code class="language-none">save_steadystate(sr)</code></pre><p>and can be loaded for a future session with</p><pre><code class="language-none">sr = load_steadystate()</code></pre><p>These functions are necessary as the functions <code>save()</code> and <code>load()</code> from the <code>JLD2</code> package show incompatibilities with the more complex data structures in <code>SteadyResults</code>, especially the <code>struct</code> <code>NumericalParameters</code>.</p></div></div><p>The model variables are divided into <em>states</em> (distribution, productivity, ...) and <em>controls</em> (consumption policy or marginal utilities, prices, aggregate capital stock, ...). The aggregate variables (i.e. excluding the distribution and marginal utilities) are defined in the vectors <code>state_names</code> and <code>control_names</code> in the main script <code>HANKEstim.jl</code>.</p><h3 id="Linearize-full-model-1"><a class="docs-heading-anchor" href="#Linearize-full-model-1">Linearize full model</a><a class="docs-heading-anchor-permalink" href="#Linearize-full-model-1" title="Permalink"></a></h3><p>After obtaining <code>SteadyResults</code> <code>sr</code>,</p><pre><code class="language-none">lr = linearize_full_model(sr)</code></pre><p>computes the linear dynamics of the model around the steady state and saves a state-space representation in the instance <code>lr</code> of the <code>struct</code> <code>LinearResults</code> (see <a href="linearization.html#HANKEstim.linearize_full_model"><code>linearize_full_model()</code></a>).</p><p>While solving for the first order dynamics of the full model takes only a few seconds (after having been compiled, i.e. after the first run), a factorization result <sup class="footnote-reference"><a id="citeref-BBL" href="#footnote-BBL">[BBL]</a></sup> makes it possible to only solve the <em>aggregate</em> part of the model when estimating the parameters (see <a href="estimation.html#HANKEstim.SGU_estim"><code>SGU_estim()</code></a>), which significantly reduces its computation time.</p><h3 id="Estimation-of-model-parameters-1"><a class="docs-heading-anchor" href="#Estimation-of-model-parameters-1">Estimation of model parameters</a><a class="docs-heading-anchor-permalink" href="#Estimation-of-model-parameters-1" title="Permalink"></a></h3><p>Having obtained <code>SteadyResults</code> <code>sr</code> and <code>LinearResults</code> <code>lr</code>, the command</p><pre><code class="language-none">er = find_mode(sr,lr)</code></pre><p>computes the mode of the likelihood, i.e. the parameter vector that maximizes the probability of observing the data given the model, and saves the results in <code>er</code>, an instance of <code>struct</code> <code>EstimResults</code> (see <a href="estimation.html#HANKEstim.mode_finding"><code>mode_finding()</code></a>). We use the Kalman filter to compute the likelihood, and the package <code>Optim</code> for optimization.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Depending on the computing power available, finding the mode of the likelihood can take several hours to run through.</p></div></div><p>Lastly,</p><pre><code class="language-none">montecarlo(sr,lr,er)</code></pre><p>uses a Monte Carlo Markov Chain method to trace out the posterior probabilites of the estimated parameters. The final estimates (and further results) are saved in a file with the name given by the field <code>save_posterior_file</code> in the <code>struct</code> <code>EstimationSettings</code> (instantiated in <code>e_set</code>).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The module <code>HANKEstim</code> creates the estimation settings <code>e_set</code> in its main script (when it is initialized), so changes to the <code>struct</code> <code>EstimationSettings</code> are only effective <em>before</em> <code>using HANKEstim</code>. Make sure that all file paths specified in <a href="estimation.html#HANKEstim.EstimationSettings"><code>EstimationSettings</code></a> are correct relative to your script&#39;s position.</p></div></div><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-BBL"><a class="tag is-link" href="#citeref-BBL">BBL</a>See the paper <a href="https://cepr.org/active/publications/discussion_papers/dp.php?dpno=14364">Shocks, Frictions, and Inequality in US Business Cycles</a></li><li class="footnote" id="footnote-BL"><a class="tag is-link" href="#citeref-BL">BL</a>For a description of the solution methods applied here, see the paper <a href="https://cepr.org/active/publications/discussion_papers/dp.php?dpno=13071#">Solving heterogeneous agent models in discrete time with many idiosyncratic states by perturbation methods</a></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="steadystate.html">Steady state »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 5 May 2020 14:21">Tuesday 5 May 2020</span>. Using Julia version 1.4.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
